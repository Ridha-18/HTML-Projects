<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Faker API Data Fetch</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

    <!-- Hero Section -->
    <section class="text-center p-3 bg-success text-white">
        <h1 class="mb-3">Fetch Fake Data Instantly</h1>
        <button id="fetchBtn" class="btn btn-light btn-lg">Fetch Data</button>
    </section>

    <!-- Spinner -->
    <div class="d-flex justify-content-center my-4">
        <div id="spinner" class="spinner-border text-primary" style="display:none;"></div>
    </div>

    <!-- Table Container -->
    <div class="container">
        <table id="dataTable" class="table table-success table-bordered table-striped" style="display:none;">
            <thead class="table-success">
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Username</th>
                </tr>
            </thead>
            <tbody>
                <!-- fetched data -->
            </tbody>
        </table>
    </div>

    <script>
        const fetchBtn = document.getElementById("fetchBtn");
        const spinner = document.getElementById("spinner");
        const dataTableBody = document.getElementById("dataTable").getElementsByTagName("tbody")[0];
        const table = document.getElementById("dataTable");

        async function fetchAndDisplayUsers() {

            spinner.style.display = "block";




            const data = await fetch("https://dummyjson.com/users?limit=10");
            const result = await data.json();

            //hide spinner
            spinner.style.display = "none";
            table.style.display = "table";

            // Insert rows
            for (let i = 0; i < result.users.length; i++) {
                const user = result.users[i];
                const row = dataTableBody.insertRow();

                row.insertCell(0).innerText = i + 1;
                row.insertCell(1).innerText = user.firstName + " " + user.lastName;
                row.insertCell(2).innerText = user.email;
                row.insertCell(3).innerText = user.username;
            }

        }

        fetchBtn.addEventListener("click", fetchAndDisplayUsers);
    </script>
</body>

</html>