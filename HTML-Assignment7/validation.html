<!DOCTYPE html>
<html>

<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .error {
      color: red;
      font-size: 0.9em;
    }

    .container {
      margin-top: 9%;
    }
  </style>
</head>

<body>
  <div class="container">
    <form id="myform" onsubmit="return validateForm()" novalidate>

      <!-- Name -->
      <div class="row mb-3 align-items-center">
        <label for="name" class="col-sm-3 col-form-label">Full Name</label>
        <div class="col-sm-9">
          <input type="text" id="name" class="form-control" oninput="validateName()" placeholder="enter your full name">
          <div id="nameError" class="error"></div>
        </div>
      </div>

      <!-- Phone -->
      <div class="row mb-3 align-items-center">
        <label for="number" class="col-sm-3 col-form-label">Phone Number (10 digits)</label>
        <div class="col-sm-9">
          <input type="number" id="number" class="form-control" oninput="validateNumber()"
            placeholder="enter phone number">
          <div id="phoneError" class="error"></div>
        </div>
      </div>

      <!-- Date -->
      <div class="row mb-3 align-items-center">
        <label for="birthdate" class="col-sm-3 col-form-label">Birthdate</label>
        <div class="col-sm-9">
          <input type="date" id="birthdate" class="form-control" onchange="validateDate()">
          <div id="dateError" class="error"></div>
        </div>
      </div>

      <!-- Message -->
      <div class="row mb-3 align-items-center">
        <label for="message" class="col-sm-3 col-form-label">Message</label>
        <div class="col-sm-9">
          <textarea id="message" class="form-control" rows="3" oninput="validateMessage()"
            placeholder="leave a message"></textarea>
          <div id="messageError" class="error"></div>
        </div>
      </div>

      <!-- Submit -->
      <div class="row">
        <div class="col-sm-9 offset-sm-3">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </div>

    </form>
  </div>

  <script>
    function validateName() {
      let name = document.getElementById("name").value.trim();
      let error = document.getElementById("nameError");
      if (name.length < 4 || name.length > 30) {
        error.textContent = "Name must be 4-30 characters.";
        return false;
      }
      error.textContent = "";
      return true;
    }

    function validateNumber() {
      let number = document.getElementById("number").value.trim();
      let error = document.getElementById("phoneError");

      if (number === "" || isNaN(number)) {
        error.textContent = "Please enter a number.";
        return false;
      }

      if (number.length !== 10) {
        error.textContent = "Phone must be exactly 10 digits.";
        return false;
      }

      error.textContent = "";
      return true;
    }
    function validateDate() {
      let input = document.getElementById("birthdate").value;
      let error = document.getElementById("dateError");
      if (!input) {
        error.textContent = "Please select a date.";
        return false;
      }
      let birthdate = new Date(input);
      let today = new Date();

      if (birthdate >= today) {
        error.textContent = "Date must be in the past.";
        return false;
      }
      error.textContent = "";
      return true;
    }

    function validateMessage() {
      let message = document.getElementById("message").value.trim();
      let error = document.getElementById("messageError");
      if (message.length === 0) {
        error.textContent = "Message cannot be empty.";
        return false;
      }
      if (message.length > 100) {
        error.textContent = "Message must be under 100 characters.";
        return false;
      }
      error.textContent = "";
      return true;
    }

    function validateForm() {
      let valid = true;
      if (!validateName()) valid = false;
      if (!validateNumber()) valid = false;
      if (!validateDate()) valid = false;
      if (!validateMessage()) valid = false;

      if (valid) {
        alert("Form submitted successfully!");
      }
      return valid;
    }
  </script>
</body>

</html>